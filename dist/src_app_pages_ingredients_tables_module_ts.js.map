{"version":3,"file":"src_app_pages_ingredients_tables_module_ts.js","mappings":"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","sources":["./src/app/pages/ingredients/smart-table/smart-table.component.ts","./src/app/pages/ingredients/smart-table/smart-table.component.html","./src/app/pages/ingredients/tables-routing.module.ts","./src/app/pages/ingredients/tables.component.ts","./src/app/pages/ingredients/tables.module.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { LocalDataSource } from 'ng2-smart-table';\nimport { IngredientsService } from \"../ingredients.service\";\nimport { NbComponentStatus, NbGlobalPhysicalPosition, NbToastrService } from \"@nebular/theme\";\nimport _ from \"lodash\";\n\n@Component({\n  selector: 'ngx-smart-table',\n  templateUrl: './smart-table.component.html',\n  styleUrls: ['./smart-table.component.scss'],\n})\nexport class SmartTableComponent {\n\n  settings = {\n    add: {\n      addButtonContent: '<i class=\"nb-plus\"></i>',\n      createButtonContent: '<i class=\"nb-checkmark\"></i>',\n      cancelButtonContent: '<i class=\"nb-close\"></i>',\n      confirmCreate: true,\n    },\n    edit: {\n      editButtonContent: '<i class=\"nb-edit\"></i>',\n      saveButtonContent: '<i class=\"nb-checkmark\"></i>',\n      cancelButtonContent: '<i class=\"nb-close\"></i>',\n      confirmSave: true,\n    },\n    delete: {\n      deleteButtonContent: '<i class=\"nb-trash\"></i>',\n      confirmDelete: true,\n    },\n    columns: {\n      id: {\n        title: 'ID',\n        type: 'number',\n        hide: true,\n      },\n      name: {\n        title: 'Name',\n        type: 'string',\n      },\n      calories: {\n        title: 'Calories',\n        type: 'number',\n      },\n      proteins: {\n        title: 'Proteins',\n        type: 'number',\n      },\n      carbohydrates: {\n        title: 'Carbohydrates',\n        type: 'number',\n      },\n      fats: {\n        title: 'Fats',\n        type: 'number',\n      },\n      category: {\n        title: 'Category',\n        type: 'string',\n        editor: {\n          type: 'list',\n          config: {\n            list: [\n              { value: 'proteins', title: 'Proteins' },\n              { value: 'carbohydrates', title: 'Carbohydrates' },\n              { value: 'fats', title: 'Fats' },\n            ],\n          },\n        },\n      },\n    },\n  };\n\n  source: LocalDataSource = new LocalDataSource();\n\n  constructor(\n    private ingredientsService: IngredientsService,\n    private toastrService: NbToastrService,\n  ) {\n    this.loadData();\n  }\n\n  private loadData(): void {\n    this.ingredientsService.get()\n      .subscribe(\n        (data) => {\n          data = _.orderBy(data, ['id'], ['desc']);\n\n          this.source.load(data)\n            .catch((e) => {\n              this.showToast('danger', 'Failed to load data', e.error.message.join ? e.error.message.join(', ') : e.error.message);\n            });\n        },\n        (e) => {\n          this.showToast('danger', 'Failed to load data', e.error.message.join ? e.error.message.join(', ') : e.error.message);\n        }\n      );\n  }\n\n  onDeleteConfirm(event): void {\n    if (window.confirm('Are you sure you want to delete?')) {\n      this.ingredientsService.delete(event.data.id)\n        .subscribe(\n          () => {event.confirm.resolve()},\n          (e) => {\n            event.confirm.reject();\n            this.showToast('danger', 'Failed to delete', e.error.message.join ? e.error.message.join(', ') : e.error.message);\n          }\n        );\n    } else {\n      event.confirm.reject();\n    }\n  }\n\n  onCreateConfirm(event): void {\n    this.ingredientsService.create(event.newData)\n      .subscribe(\n        () => {\n          event.confirm.resolve();\n          this.loadData();\n        },\n        (e) => {\n          event.confirm.reject();\n          this.showToast('danger', 'Failed to create', e.error.message.join ? e.error.message.join(', ') : e.error.message);\n        }\n      );\n  }\n\n  onEditConfirm(event): void {\n    this.ingredientsService.update(event.newData.id, event.newData)\n      .subscribe(\n        () => {event.confirm.resolve()},\n        (e) => {\n          event.confirm.reject();\n          this.showToast('danger', 'Failed to update', e.error.message.join ? e.error.message.join(', ') : e.error.message);\n        }\n      );\n  }\n\n  private showToast(type: NbComponentStatus, title: string, body: string) {\n    const config = {\n      status: type,\n      destroyByClick: true,\n      duration: 5000,\n      hasIcon: true,\n      position: NbGlobalPhysicalPosition.TOP_RIGHT,\n      preventDuplicates: false,\n    };\n\n    this.toastrService.show(body, title, config);\n  }\n}\n","<nb-card>\n  <nb-card-header>\n    Ingredients\n  </nb-card-header>\n\n  <nb-card-body>\n    <ng2-smart-table\n      [settings]=\"settings\"\n      [source]=\"source\"\n      (deleteConfirm)=\"onDeleteConfirm($event)\"\n      (createConfirm)=\"onCreateConfirm($event)\"\n      (editConfirm)=\"onEditConfirm($event)\"\n    >\n    </ng2-smart-table>\n  </nb-card-body>\n</nb-card>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TablesComponent } from './tables.component';\nimport { SmartTableComponent } from './smart-table/smart-table.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: TablesComponent,\n  children: [\n    {\n      path: '',\n      component: SmartTableComponent,\n    },\n  ],\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TablesRoutingModule { }\n\nexport const routedComponents = [\n  TablesComponent,\n  SmartTableComponent,\n];\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'ngx-tables',\n  template: `<router-outlet></router-outlet>`,\n})\nexport class TablesComponent {\n}\n","import { NgModule } from '@angular/core';\nimport { NbCardModule, NbIconModule, NbInputModule, NbTreeGridModule } from '@nebular/theme';\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\n\nimport { ThemeModule } from '../../@theme/theme.module';\nimport { TablesRoutingModule, routedComponents } from './tables-routing.module';\n\n@NgModule({\n  imports: [\n    NbCardModule,\n    NbTreeGridModule,\n    NbIconModule,\n    NbInputModule,\n    ThemeModule,\n    TablesRoutingModule,\n    Ng2SmartTableModule,\n  ],\n  declarations: [\n    ...routedComponents,\n  ],\n})\nexport class TablesModule { }\n"],"names":[],"sourceRoot":"webpack:///"}