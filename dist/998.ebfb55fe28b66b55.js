"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[998],{60998:(S,d,a)=>{a.r(d),a.d(d,{TablesModule:()=>y});var i=a(99693),m=a(74385),C=a(49261),c=a(42268),n=a(5e3);let u=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ngx-tables"]],decls:1,vars:0,template:function(e,t){1&e&&n.\u0275\u0275element(0,"router-outlet")},directives:[c.lC],encapsulation:2}),r})();var h=a(17489),f=a.n(h),b=a(74574),p=a(12218);const T=[{path:"",component:u,children:[{path:"",component:(()=>{class r{constructor(e,t,s){this.ingredientsService=e,this.mealRecommendationService=t,this.toastrService=s,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"ID",type:"number",hide:!0},name:{title:"Name",type:"string",editor:{type:"list",config:{list:[{value:"proteins",title:"Proteins"},{value:"carbohydrates",title:"Carbohydrates"},{value:"fats",title:"Fats"},{value:"calories",title:"Calories"}]}}},amount:{title:"Amount",type:"number"}}},this.source=new m.nC,this.sourcePerMeal=new m.nC,this.loadData()}loadData(){this.ingredientsService.get().subscribe(e=>{e=f().orderBy(e,["id"],["desc"]),this.source.load(e).catch(t=>{this.showToast("danger","Failed to load data",t.error.message.join?t.error.message.join(", "):t.error.message)})},e=>{this.showToast("danger","Failed to load data",e.error.message.join?e.error.message.join(", "):e.error.message)}),this.mealRecommendationService.get().subscribe(e=>{e=f().orderBy(e,["id"],["desc"]),this.sourcePerMeal.load(e).catch(t=>{this.showToast("danger","Failed to load data",t.error.message.join?t.error.message.join(", "):t.error.message)})},e=>{this.showToast("danger","Failed to load data",e.error.message.join?e.error.message.join(", "):e.error.message)})}onDeleteConfirm(e,t=!1){let s=!0===t?this.mealRecommendationService:this.ingredientsService;window.confirm("Are you sure you want to delete?")?s.delete(e.data.id).subscribe(()=>{e.confirm.resolve()},o=>{e.confirm.reject(),this.showToast("danger","Failed to delete",o.error.message.join?o.error.message.join(", "):o.error.message)}):e.confirm.reject()}onCreateConfirm(e,t=!1){(!0===t?this.mealRecommendationService:this.ingredientsService).create(e.newData).subscribe(()=>{e.confirm.resolve(),this.loadData()},o=>{e.confirm.reject(),this.showToast("danger","Failed to create",o.error.message.join?o.error.message.join(", "):o.error.message)})}onEditConfirm(e,t=!1){(!0===t?this.mealRecommendationService:this.ingredientsService).update(e.newData.id,e.newData).subscribe(()=>{e.confirm.resolve()},o=>{e.confirm.reject(),this.showToast("danger","Failed to update",o.error.message.join?o.error.message.join(", "):o.error.message)})}showToast(e,t,s){this.toastrService.show(s,t,{status:e,destroyByClick:!0,duration:5e3,hasIcon:!0,position:i.fe3.TOP_RIGHT,preventDuplicates:!1})}}return r.\u0275fac=function(e){return new(e||r)(n.\u0275\u0275directiveInject(b.z),n.\u0275\u0275directiveInject(p.Z),n.\u0275\u0275directiveInject(i.quB))},r.\u0275cmp=n.\u0275\u0275defineComponent({type:r,selectors:[["ngx-smart-table"]],decls:10,vars:4,consts:[[3,"settings","source","deleteConfirm","createConfirm","editConfirm"]],template:function(e,t){1&e&&(n.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),n.\u0275\u0275text(2," Daily recommended consumption "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"nb-card-body")(4,"ng2-smart-table",0),n.\u0275\u0275listener("deleteConfirm",function(o){return t.onDeleteConfirm(o)})("createConfirm",function(o){return t.onCreateConfirm(o)})("editConfirm",function(o){return t.onEditConfirm(o)}),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(5,"nb-card")(6,"nb-card-header"),n.\u0275\u0275text(7," Recommended consumption per meal "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"nb-card-body")(9,"ng2-smart-table",0),n.\u0275\u0275listener("deleteConfirm",function(o){return t.onDeleteConfirm(o,!0)})("createConfirm",function(o){return t.onCreateConfirm(o,!0)})("editConfirm",function(o){return t.onEditConfirm(o,!0)}),n.\u0275\u0275elementEnd()()()),2&e&&(n.\u0275\u0275advance(4),n.\u0275\u0275property("settings",t.settings)("source",t.source),n.\u0275\u0275advance(5),n.\u0275\u0275property("settings",t.settings)("source",t.sourcePerMeal))},directives:[i.Asz,i.ndF,i.yKW,m.T5],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0)}"]}),r})()}]}];let v=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=n.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(T)],c.Bz]}),r})(),y=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=n.\u0275\u0275defineInjector({imports:[[i.zyh,i.caZ,i.KdK,i.nKr,C.O,v,m.ne]]}),r})()}}]);